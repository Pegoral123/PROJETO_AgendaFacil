<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro</title>
    <!-- Link para o CSS -->
    <link rel="stylesheet" href="style_cadastro.css" />
    <link rel="stylesheet" href="/nav.css" />
    <link rel="icon" type="image/png" href="img/favicon.png" />
    <link rel="stylesheet" href="/rodape.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />

  </head>
  <body>
    <!-- nav -->
    <header>
      <div class="menu">
        <div class="hamburguer" id="hamburguer">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="logo">
          <h1>AgendaFácil NAF</h1>
        </div>
      </div>
    </header>

    <nav class="nav" id="nav">
      <ul>
        <h1 class="visually-hidden"></h1>

        <div
          class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark"
          style="width: 300px"
        >
          <a
            href="/"
            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none containerLogoUnifeso"
          >
            <img src="/img/UNIFESO.png" width="150" height="80" />
          </a>
          <hr />
          <div id="opcoesDisponiveisParaUsuarios">
            <ul class="nav nav-pills flex-column mb-auto"></ul>
          </div>
          <hr />
          <div class="dropdown">
            <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
              <li><a class="dropdown-item" href="/index.html">Principal</a></li>
              <li><a class="dropdown-item" href="/feedback/feedback.html">Comentário</a></li>
              <li><a class="dropdown-item" href="#">Perfil ####</a></li>
              <li><hr class="dropdown-divider" /></li>
              <li><a class="dropdown-item" href="/login/login.html">Sair</a></li>
            </ul>
          </div>
        </div>

        <div class="b-example-divider b-example-vr"></div>
        <div></div>
        <h1 class="text-align center" style="color: white"></h1>
      </ul>
    </nav>
    <!-- nav -->

    <!-- cadastro-->
    <div class="main-container">
      <section class="schedule">
        <h2>Cadastro</h2>

       
      <form onsubmit="SalvaNovoUsuario(event)">
        <div class="form-group" >
          <label for="fullname" >Nome Completo</label>
          <input type="text" id="fullname" name="fullname" required />
        </div>
        <div class="form-group">
          <label for="email" >E-mail</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group">
          <label for="telefone">Telefone ou Celular</label>
          <input type="text" id="campoTelefone" placeholder="(XX) XXXXX-XXXX" name="telefone" onblur="validarTelefone()" required />
        </div>
        <div class="form-group">
          <label for="password">Senha</label>
          <input type="password" id="password" name="password" required />
        </div>
        <button
          type="submit"
          class="btn-rounded"
          style="background-color: #3CB371"
         
        >
          Cadastrar
        </button>
      </form>
      </section>
    </div>
    <!-- cadastro-->

 <!-- rodape -->
    <section class="rodape">
      <footer class="footer">
        <div class="logo">
          <img src="/img/UNIFESO-BRANCO.png" alt="Unifeso Logo" />
        </div>
        <div class="social-media">
          <ul class="list-inline">
            <li>
              <a href="https://www.facebook.com/feso.unifeso" target="_blank"
                ><i class="bi bi-facebook"></i
              ></a>
            </li>
            <li>
              <a href="https://www.instagram.com/feso.unifeso/" target="_blank">
                <i class="bi bi-instagram"></i></a
              >
            </li>
            <li>
              <a
                href="https://www.youtube.com/channel/UCqJHUIHPOB0SkdgiVExdSjw/featured"
                target="_blank"
                ><i class="bi bi-youtube"></i>
            </li>
          </ul>
        </div>
      </footer>
    </section>
     <!-- rodape -->
      
    <script type="module">
      import * as UserModule from "../js/User.js";
      function SalvaNovoUsuario(event){
        event.preventDefault();
        var telefoneValidado = validarTelefone()
        if(telefoneValidado==true){
          
          var nomeCompleto = document.getElementById("fullname").value
          var email = document.getElementById("email").value
          var telefone = document.getElementById("campoTelefone").value
          var senha = document.getElementById("password").value


          UserModule.SalvaNovoUsuarioEmJson(nomeCompleto,email,senha,telefone);
          window.location.href = "../login/login.html";
        }

      }

    
    
    window.SalvaNovoUsuario = SalvaNovoUsuario;
    </script>
      <script src="/nav.js"></script>
<script>
        function validarTelefone() {
            var campoTelefone = document.getElementById("campoTelefone");
            var telefone = campoTelefone.value.trim();  // Retira espaços extras

            var regexTelefone = /^\(\d{2}\) \d{5}-\d{4}$/;

            if (!regexTelefone.test(telefone)) {
                alert("Por favor, digite um número de telefone válido no formato: (XX) XXXXX-XXXX.");

                return false;
            } else {

                return true
              
            }
        }
</script>
  </body>

</html>
